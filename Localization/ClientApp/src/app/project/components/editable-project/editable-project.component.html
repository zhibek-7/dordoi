<!--<div style="text-align:center" *ngIf="project">
  <h1>
    Проект { {project.name_text}} name.value
  </h1>
</div>-->

<form [formGroup]="form"
      novalidate
      (ngSubmit)="submit()"
      *ngIf="loaded">

  <div class="form-group row">
    <label class="col-3 col-form-label">Название проекта:</label>
    <div class="col-9" style="padding-left: 0px;">
      <mat-form-field class="txt-form-field width-to-parent">
        <input matInput type="text"
               #name formControlName="nameFormControl"><!--placeholder="Обычно название вашего веб-сайта или приложения"-->
        <!--<button mat-button *ngIf="name.value" matSuffix mat-icon-button aria-label="Clear" (click)="project.name_text='';name.value='';">
          <mat-icon>close</mat-icon>
        </button>-->
      </mat-form-field>
      <small class="form-text text-muted">
        Обычно название вашего веб-сайта или приложения.
      </small>
      <div class="text-danger"
           *ngIf="form.controls['nameFormControl'].invalid && form.controls['nameFormControl'].touched && form.controls['nameFormControl'].errors?.required">
        Это поле необходимо заполнить.
      </div>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-3 col-form-label">Описание проекта:</label>
    <div class="col-9" style="padding-left: 0px;">
      <mat-form-field class="txt-form-field width-to-parent">
        <input matInput type="text"
               #description formControlName="descriptionFormControl">
        <button mat-button *ngIf="description.value" matSuffix mat-icon-button aria-label="Clear" (click)="project.description='';description.value='';">
          <mat-icon>close</mat-icon>
        </button>
      </mat-form-field>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-3 col-form-label">Адрес проекта:</label>
    <div class="col-9" style="padding-left: 0px;">
      <mat-form-field class="txt-form-field width-to-parent">
        <input matInput type="text"
               #url
               formControlName="urlFormControl"> <!--placeholder="https://example.com/project/<identifier>"-->
        <!--<button mat-button *ngIf="url.value" matSuffix mat-icon-button aria-label="Clear" (click)="project.url='';url.value='';">
          <mat-icon>close</mat-icon>
        </button>-->
      </mat-form-field>
      <small class="form-text text-muted">
        https://example.com/project/ < identifier >.
      </small>
      <div class="text-danger"
           *ngIf="form.controls['urlFormControl'].invalid && form.controls['urlFormControl'].touched && form.controls['urlFormControl'].errors?.required">
        Это поле необходимо заполнить.
      </div>
      <div class="text-danger"
           *ngIf="form.controls['urlFormControl'].invalid && form.controls['urlFormControl'].touched && form.controls['urlFormControl'].errors?.pattern">
        Некорректный url
      </div>
    </div>
  </div>


  <div class="form-group row">
    <label class="col-3 form-check-label">
      Приватность:
    </label>
    <div class="col-9 form-check" style="padding-left: 0px;">
      <mat-radio-group formControlName="visibilityFormControl" ng-checked="">
        <mat-radio-button value="true">Виден всем пользователям</mat-radio-button>
        <small class="form-text text-muted">Visible to anyone. You can restrict access to languages after the project is created.</small>
        <mat-radio-button value="false">Виден только участникам</mat-radio-button>
        <small class="form-text text-muted">Visible only to the invited project members.</small>
      </mat-radio-group>
    </div>
  </div>


  <div class="form-group row">
    <div class="form-check">
      <mat-checkbox class="example-margin" formControlName="ableToLeftErrorsFormControl">
        <label class="form-check-label">Пропускать непереведенные строки</label>
      </mat-checkbox>
      <small class="form-text text-muted">
        Если отмечено, то строки без перевода не будут включены в экспортируемый файл.
        Эта функция не будет применена к текстовым документам:*.docx, *.pptx,*.xlsx и т.д. во избежание ошибок в
        переведенных файлах.
      </small>
    </div>

    <div class="form-check">
      <mat-checkbox class="example-margin" formControlName="originalIfStringIsNotTranslatedFormControl">
        <label class="form-check-label">Выводить оригинал, если строка не переведена</label>
      </mat-checkbox>
      <small class="form-text text-muted">
        Если отмечено, то выгружает в итоговый файл не переведенные строки как текст базового языка.
      </small>
    </div>

    <div class="form-check">
      <mat-checkbox class="example-margin" formControlName="exportOnlyApprovedTranslationsFormControl">
        <label class="form-check-label">Экспортировать только утвержденные переводы</label>
      </mat-checkbox>
      <small class="form-text text-muted">
        Будут экспортированы только утвержденные переводы. Утверждение переводов потребует дополнительных усилий от ваших
        переводчиков\корректоров.
      </small>
    </div>

    <div class="form-check">
      <mat-checkbox class="example-margin" formControlName="ableTranslatorsChangeTermsInGlossariesFormControl">
        <label class="form-check-label">Переводчикам разрешено изменять термины в глоссарий</label>
      </mat-checkbox>
      <small class="form-text text-muted">
        Если отмечено, то разрешено переводчикам и редакторам изменять глоссарий.
      </small>
    </div>


    <div class="form-check">
      <mat-checkbox class="example-margin" formControlName="notifyNewFormControl">
        <label class="form-check-label">Уведомлять менеджеров проекта о новых строках</label>
      </mat-checkbox>
    </div>

    <div class="form-check">
      <mat-checkbox class="example-margin" formControlName="notifyFinishFormControl">
        <label class="form-check-label">Уведомлять менеджеров проекта о завершение перевода файлов</label>
      </mat-checkbox>
    </div>

    <div class="form-check">
      <mat-checkbox class="example-margin" formControlName="notifyConfirmFormControl">
        <label class="form-check-label">Уведомлять владельцов о завершение проверки файлов редакторами</label>
      </mat-checkbox>
    </div>

    <div class="form-check">
      <mat-checkbox class="example-margin" formControlName="notifyNewCommentFormControl">
        <label class="form-check-label">Уведомлять менеджеров проекта о новом комментарии к строке</label>
      </mat-checkbox>
    </div>
  </div>


  <div class="form-group">
    <label class="col-10 col-form-label">Укажите в текстовом поле строку, которая будет записана в файл, если перевод обязательный и не был сделан (для удобства проверки)</label>
    <div class="col-12" style="padding-left: 0px;">
      <mat-form-field class="txt-form-field width-to-parent">
        <input matInput type="text"
               #defaultString
               formControlName="defaultStringFormControl">
        <button mat-button *ngIf="defaultString.value" matSuffix mat-icon-button aria-label="Clear" (click)="project.default_String='';defaultString.value='';">
          <mat-icon>close</mat-icon>
        </button>
      </mat-form-field>
    </div>
  </div>

  <div class="form-group">
    <div>
      <label>Исходный язык</label>
    </div>
    <div>
      <select class="form-control" formControlName="iDSourceLocaleFormControl">
        <option *ngFor="let lang of allLocales" [value]="lang.id">{{lang.name_text}}</option>
      </select>
      <div class="text-danger"
           *ngIf="form.controls['iDSourceLocaleFormControl'].invalid && form.controls['iDSourceLocaleFormControl'].touched && form.controls['iDSourceLocaleFormControl'].errors?.required">
        Это поле необходимо заполнить.
      </div>
    </div>

    <div class="row">
      <div class="row">
        <div class="col">
          <label class="m-1"> Целевые языки: </label>
          <app-set-languages [availableLocales]="availableLocales" (selectedLocalesChanged)="setSelectedLocales($event)"></app-set-languages>
        </div>
      </div>
      <div class="row">
        <div class="text-danger"
             *ngIf="allProjectLocales == null || allProjectLocales.length == 0">
          Это поле необходимо заполнить.
        </div>
      </div>
    </div>

  </div>


  <div class="form-group">
    <button class="btn m-1 btn-sm"
            [class.btn-success]="form.valid && (allProjectLocales != null && allProjectLocales.length > 0)"
            [class.btn-primary]="form.invalid || (allProjectLocales == null || allProjectLocales.length == 0)"
            [disabled]="form.invalid || (allProjectLocales == null || allProjectLocales.length == 0)"
            type="submit">
      Сохранить
    </button>
  </div>

</form>
